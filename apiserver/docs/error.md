# Error response

送信データに不備があった場合などにはサーバからエラーレスポンス(status:`400`)が返されます。エラーレスポンスの形式は以下のようなJSONオブジェクトとなっています。
また、サーバ内で想定外のエラーが発生した場合にはエラーレスポンス(status:`500`)が返されます。

```JSON
{
  "errorCode": 200,
  "message": "not password"
}
```

| Name        | Discription                                      |
| ----------- | ------------------------------------------------ |
| `errorCode` | 各エラーの識別子です。詳しくは[errorCode](#errorCode)の欄を見てください。 |
| `message`   | エラーに対するメッセージです。0番以外のerrorCodeとmessageは対応しています。   |

## errorCode

### 分類

各エラーコードは以下のように分類されています。

| errorCode | Discription |
| --------- | ----------- |
| 0         | 想定外         |
| 1~99      | サーバ共通       |
| 100番台     | 未分類         |
| 200番台     | ユーザ関連       |
| 300番台~    | 未分類         |

### 詳細

#### 0:想定外のエラー

想定済みのエラーについてはServerErrorクラスにて例外を投げることになっていますが、それ以外のエラーが起きた場合にこのエラーコードが返されます。
`message`には例外のメッセージが表示されます。サーバのバグである可能性が高いため、管理者に連絡お願いします。

#### 1~99:サーバ共通

##### 1(nothing search query)

各検索APIにて検索文字列が存在しない場合にこのエラーコードが返されます。 検索文字列のクエリ「?q=(検索文字列)」を加えて送信しているかを確認してください。

##### 2(invalid content-type)

Content-Typeが無効の場合にこのエラーコードが返されます。 POST APIのContent-Typeは`application/json`です。

##### 3(invalid syntax)

Bodyに含まれるJSON構文が無効です。

##### 4(unauthorized)

資格情報が不足または無効の場合にこのエラーコードが返されます。 このエラーはステータス401と共に返されます。

#### 100番台:試合関連

##### 100(can not find game)

指定したゲームIDのゲームが見つからない場合にこのエラーコードが返されます。

##### 101(game is not free)

参加するゲームにプレイヤーの空きがない場合にこのエラーコードが返されます。

##### 102(can not find ai)

対AI戦をする際に指定したAIがない場合にこのエラーコードが返されます。

##### 104(invalid action)

行動を送信する際に行動の内容に不正があった場合にこのエラーコードが返されます。

#### 200番台:ユーザ関連

##### 200(nothing password)

送信したJSONにパスワードが含まれていない場合にこのエラーコードが返されます。

##### 201(invalid screenName)

送信したJSONのscreenNameが無効の場合にこのエラーコードが返されます。

##### 202(invalid name)

送信したJSONのnameが無効の場合にこのエラーコードが返されます。

##### 203(already registered name)

既にユーザが登録されている場合にこのエラーコードが返されます。 users/regist APIでnameが他のユーザと被っている場合などがあげられます。

##### 204(can not find user)

ユーザが存在しない場合にこのエラーコードが返されます。

##### 205(invalid id or name)

ユーザの識別子が無効な場合にこのエラーコードが返されます。

##### 206(already registered user)

ゲーム作成、大会作成などで既に同じユーザが登録されている場合にこのエラーコードが返されます。

#### 300番台:大会関連

##### 300(invalid name)

大会名が無効の場合にこのエラーコードが返されます。

##### 301(invalid type)

大会のタイプが無効の場合にこのエラーコードが返されます。

##### 302(invalid id)

大会IDが無効の場合にこのエラーコードが返されます。

##### 303(nothing id)

指定したIDの大会がない場合にこのエラーコードが返されます。

#### 400番台:ゲーム関連

##### 400(invalid board name)

ボードネームが無効の場合にこのエラーコードが返されます。

##### 401(invalid player identifiers)

プレイヤーの識別子が無効の場合にこのエラーコードが返されます。
